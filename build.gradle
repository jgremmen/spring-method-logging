plugins {
  id 'java-library'
  id 'maven-publish'
  id 'jacoco'
  id 'signing'
}


description "Method Logging Extension for Spring"
group 'de.sayayi.lib'
version '0.1.0'

buildDir = ".build"


ext {
  jetbrainsAnnotationsVersion = "23.0.0"
  junitVersion = "5.9.0"
  lombokVersion = "1.18.24"
  messageFormatVersion = "0.6.3"
  springFrameworkVersion = "5.3.23"
}


java {
  toolchain {
    languageVersion = JavaLanguageVersion.of(8)
  }
}


compileTestJava {
  options.debugOptions.debugLevel = 'lines,vars,source'
  options.compilerArgs = [ "-parameters" ]
}


test {
  useJUnitPlatform()
}


apply from: file('gradle/javadoc.gradle')
apply from: file('gradle/quality.gradle')
apply from: file('gradle/publishing.gradle')


repositories {
  mavenCentral()
}


dependencies {
  // java
  annotationProcessor "org.projectlombok:lombok:${lombokVersion}"
  compileOnlyApi "org.projectlombok:lombok:${lombokVersion}"
  compileOnlyApi "org.jetbrains:annotations:${jetbrainsAnnotationsVersion}"
  implementation "org.springframework:spring-context:${springFrameworkVersion}"
  implementation "de.sayayi.lib:message-format:${messageFormatVersion}"

  compileOnlyApi 'org.slf4j:slf4j-api:1.7.36'
  compileOnlyApi 'org.apache.logging.log4j:log4j-api:2.19.0'


  // test
  testAnnotationProcessor "org.projectlombok:lombok:${lombokVersion}"
  testCompileOnly "org.projectlombok:lombok:${lombokVersion}"
  testImplementation "org.junit.jupiter:junit-jupiter-api:${junitVersion}"
  testImplementation "org.springframework:spring-test:${springFrameworkVersion}"
  testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:${junitVersion}"
}